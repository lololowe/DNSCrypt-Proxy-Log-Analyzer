# DNSCrypt-Proxy 日志分析器

一个美观的轻量级 DNS 日志分析工具，支持可视化图表展示和关键词过滤功能。

## 功能特点

### 📊 数据可视化

- **Top 20 查询域名** - 横向柱状图展示最常查询的域名
- **查询类型分布** - 环形图显示不同查询类型（A、AAAA、HTTPS 等）的百分比
- **Top 20 失败域名** - 显示解析失败次数最多的域名
- **查询时间分布** - 24 小时查询量趋势图
- **Top 10 DNS 服务器** - 最常用的 DNS 服务器统计

### 🔍 过滤功能

- **累计关键词过滤** - 支持添加多个关键词进行过滤
- **实时重新计算** - 过滤后自动重新计算查询次数
- **可视化过滤标签** - 显示当前激活的过滤条件
- **一键移除过滤** - 点击标签即可移除单个过滤条件

### 📋 其他功能

- **域名复制** - 点击 Top 20 域名图表中的域名即可复制到剪贴板
- **统计卡片** - 实时显示成功/失败查询数、总查询数和成功率
- **深色主题** - 现代化的夜间主题设计
- **响应式布局** - 支持各种屏幕尺寸

## 使用方法

1. 打开 `index.html` 文件
2. 上传日志文件：
   - **nx.log** - DNS 解析失败日志
   - **query.log** - DNS 解析成功日志
3. 点击"开始分析"按钮
4. 查看可视化图表和统计数据

### 日志文件格式

**nx.log (失败日志)**

```
[2025-12-09 21:22:23]	127.0.0.1	_54360._https.local.info.g9hc4.cn	HTTPS
[2025-12-09 20:28:14]	127.0.0.1	iac.byted.org	A
```

**query.log (成功日志)**

```
[2025-12-09 19:34:59]	127.0.0.1	1.0.0.127.in-addr.arpa	PTR	SYNTH	0ms	-
[2025-12-09 19:35:02]	127.0.0.1	asdasd.lololowe.com	AAAA	PASS	358ms	dnscry.pt-capetown02-ipv4
```

## 技术栈

- **HTML5** - 页面结构
- **CSS3** - 样式和动画
- **JavaScript (ES6+)** - 逻辑处理
- **Chart.js 4.4.0** - 图表渲染

## 浏览器兼容性

支持所有现代浏览器：

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+

## 特性说明

### 关键词过滤

在"Top 20 查询域名"图表上方的输入框中输入关键词，点击"添加过滤"或按回车键即可过滤包含该关键词的域名。支持添加多个过滤条件，每次过滤后会重新计算并显示 Top 20。

### 域名复制

点击"Top 20 查询域名"图表中的任意域名，该域名会自动复制到剪贴板，并在右上角显示复制成功的提示。

### 百分比显示

"查询类型分布"图表的图例和提示框都会显示每种类型的百分比，方便快速了解各类型的占比。

## 许可证

MIT License
